<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="file_list.html"></iframe>

      <div id="content"><div id='filecontents'><h1 id="microsoft-azure-storage-client-library-for-ruby">Microsoft Azure Storage Client Library for Ruby</h1>

<p><a href="https://badge.fury.io/rb/azure-storage"><img src="https://badge.fury.io/rb/azure-storage.svg" alt="Gem Version" /></a>
* Master: <a href="https://travis-ci.org/Azure/azure-storage-ruby/branches"><img src="https://travis-ci.org/Azure/azure-storage-ruby.svg?branch=master" alt="Master Build Status" /></a> <a href="https://coveralls.io/github/Azure/azure-storage-ruby?branch=master"><img src="https://coveralls.io/repos/github/Azure/azure-storage-ruby/badge.svg?branch=master" alt="Coverage Status" /></a>
* Dev: <a href="https://travis-ci.org/Azure/azure-storage-ruby/branches"><img src="https://travis-ci.org/Azure/azure-storage-ruby.svg?branch=dev" alt="Dev Build Status" /></a> <a href="https://coveralls.io/github/Azure/azure-storage-ruby?branch=dev"><img src="https://coveralls.io/repos/github/Azure/azure-storage-ruby/badge.svg?branch=dev" alt="Coverage Status" /></a></p>

<p>This project provides a Ruby package that makes it easy to access and manage Microsoft Azure Storage Services.</p>

<h1 id="library-features">Library Features</h1>

<ul>
  <li><a href="#blobs">Blobs</a></li>
  <li><a href="#tables">Tables</a></li>
  <li><a href="#queues">Queues</a></li>
</ul>

<h1 id="supported-ruby-versions">Supported Ruby Versions</h1>

<ul>
  <li>Ruby 2.0</li>
  <li>Ruby 2.1</li>
  <li>Ruby 2.2</li>
</ul>

<p>Note:</p>

<ul>
  <li>x64 Ruby for Windows is known to have some compatibility issues.</li>
  <li>azure-storage depends on gem nokogiri, which doesn’t support Ruby 2.2+ on Windows.</li>
</ul>

<h1 id="getting-started">Getting Started</h1>

<h2 id="install-the-rubygem-package">Install the rubygem package</h2>

<p>You can install the azure rubygem package directly.</p>

<p><code>bash
gem install azure-storage --pre
</code></p>

<h2 id="setup-connection">Setup Connection</h2>

<p>You can use this SDK against the Microsoft Azure Storage Services in the cloud, or against the local Storage Emulator if you are on Windows.</p>

<p>There are two ways you can set up the connections:</p>

<ol>
  <li><a href="#via-code">via code</a></li>
  <li><a href="#via-environment-variables">via environment variables</a></li>
</ol>

<p><a name="via-code"></a>
### Via Code
* Against Microsoft Azure Services in the cloud</p>

<p>```ruby</p>

<p>require “azure/storage”</p>

<p># Setup a specific instance of an Azure::Storage::Client
  client = Azure::Storage::Client.create(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<p># Or create a client and store as a singleton
  Azure::Storage.setup(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)
  # Then you can either call Azure::Storage.client.some_method or Azure::Storage.some_method to invoke a method on the Storage Client</p>

<p># Configure a ca_cert.pem file if you are having issues with ssl peer verification
  client.ca_file = “./ca_file.pem”</p>

<p>```</p>

<ul>
  <li>Against local Emulator (Windows Only)</li>
</ul>

<p>```ruby</p>

<p>require “azure/storage”
  client = Azure::Storage::Client.create_develpoment</p>

<p># Or create by options and provide your own proxy_uri
  client = Azure::Storage::Client.create(:use_development_storage =&gt; true, :development_storage_proxy_uri =&gt; “your proxy uri”)</p>

<p>```</p>

<p><a name="via-environment-variables"></a>
### Via Environment Variables</p>

<ul>
  <li>
    <p>Against Microsoft Azure Storage Services in the cloud</p>

    <p><code>bash
  export AZURE_STORAGE_ACCOUNT = &lt;your azure storage account name&gt;
  export AZURE_STORAGE_ACCESS_KEY = &lt;your azure storage access key&gt;
 </code></p>
  </li>
  <li>
    <p>Against local Emulator (Windows Only)</p>

    <p><code>bash
  export EMULATED = true
 </code></p>
  </li>
  <li>
    <p><a href="https://gist.github.com/fnichol/867550">SSL Certificate File</a> if having issues with ssl peer verification</p>

    <p><code>bash
  SSL_CERT_FILE=&lt;path to *.pem&gt;
 </code></p>
  </li>
</ul>

<h1 id="usage">Usage</h1>

<p><a name="blobs"></a>
## Blobs</p>

<p>```ruby</p>

<h1 id="require-the-azure-storage-rubygem">Require the azure storage rubygem</h1>
<p>require “azure/storage”</p>

<h1 id="setup-a-specific-instance-of-an-azurestorageclient">Setup a specific instance of an Azure::Storage::Client</h1>
<p>client = Azure::Storage::Client.create(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<h1 id="get-an-azure-storage-blob-service-object-from-a-specific-instance-of-an-azurestorageclient">Get an azure storage blob service object from a specific instance of an Azure::Storage::Client</h1>
<p>blobs = client.blob_client</p>

<h1 id="or-setup-the-client-as-a-singleton">Or setup the client as a singleton</h1>
<p>Azure::Storage.setup(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<h1 id="create-an-azure-storage-blob-service-object-after-you-set-up-the-credentials">Create an azure storage blob service object after you set up the credentials</h1>
<p>blobs = Azure::Storage::Blob::BlobService.new</p>

<h1 id="add-retry-filter-to-the-service-object">Add retry filter to the service object</h1>
<p>blobs.with_filter(Azure::Storage::Core::Filter::ExponentialRetryPolicyFilter.new)</p>

<h1 id="create-a-container">Create a container</h1>
<p>container = blobs.create_container(“test-container”)</p>

<h1 id="upload-a-blob">Upload a Blob</h1>
<p>content = File.open(‘test.jpg’, ‘rb’) { |file| file.read }
blobs.create_block_blob(container.name, “image-blob”, content)</p>

<h1 id="list-containers">List containers</h1>
<p>blobs.list_containers()</p>

<h1 id="list-blobs">List Blobs</h1>
<p>blobs.list_blobs(container.name)</p>

<h1 id="download-a-blob">Download a Blob</h1>
<p>blob, content = blobs.get_blob(container.name, “image-blob”)
File.open(“download.png”, “wb”) {|f| f.write(content)}</p>

<h1 id="delete-a-blob">Delete a Blob</h1>
<p>blobs.delete_blob(container.name, “image-blob”)</p>

<p>```
<a name="tables"></a>
## Tables</p>

<p>```ruby</p>

<h1 id="require-the-azure-storage-rubygem-1">Require the azure storage rubygem</h1>
<p>require “azure/storage”</p>

<h1 id="setup-a-specific-instance-of-an-azurestorageclient-1">Setup a specific instance of an Azure::Storage::Client</h1>
<p>client = Azure::Storage::Client.create(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<h1 id="get-an-azure-storage-table-service-object-from-a-specific-instance-of-an-azurestorageclient">Get an azure storage table service object from a specific instance of an Azure::Storage::Client</h1>
<p>tables = client.table_client</p>

<h1 id="or-setup-the-client-as-a-singleton-1">Or setup the client as a singleton</h1>
<p>Azure::Storage.setup(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<h1 id="create-an-azure-storage-table-service-object-after-you-set-up-the-credentials">Create an azure storage table service object after you set up the credentials</h1>
<p>tables = Azure::Storage::Table::TableService.new</p>

<h1 id="add-retry-filter-to-the-service-object-1">Add retry filter to the service object</h1>
<p>tables.with_filter(Azure::Storage::Core::Filter::ExponentialRetryPolicyFilter.new)</p>

<h1 id="create-a-table">Create a table</h1>
<p>tables.create_table(“testtable”)</p>

<h1 id="insert-an-entity">Insert an entity</h1>
<p>entity = { content: “test entity”, PartitionKey: “test-partition-key”, RowKey: “1” }
tables.insert_entity(“testtable”, entity)</p>

<h1 id="get-an-entity">Get an entity</h1>
<p>result = tables.get_entity(“testtable”, “test-partition-key”, “1”)</p>

<h1 id="update-an-entity">Update an entity</h1>
<p>result.properties[“content”] = “test entity with updated content”
tables.update_entity(result.table, result.properties)</p>

<h1 id="query-entities">Query entities</h1>
<p>query = { :filter =&gt; “content eq ‘test entity’” }
result, token = tables.query_entities(“testtable”, query)</p>

<h1 id="delete-an-entity">Delete an entity</h1>
<p>tables.delete_entity(“testtable”, “test-partition-key”, “1”)</p>

<h1 id="delete-a-table">delete a table</h1>
<p>tables.delete_table(“testtable”)</p>

<p>```</p>

<p><a name="queues"></a>
## Queues</p>

<p>```ruby</p>

<h1 id="require-the-azure-storage-rubygem-2">Require the azure storage rubygem</h1>
<p>require “azure/storage”</p>

<h1 id="setup-a-specific-instance-of-an-azurestorageclient-2">Setup a specific instance of an Azure::Storage::Client</h1>
<p>client = Azure::Storage::Client.create(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<h1 id="get-an-azure-storage-queue-service-object-from-a-specific-instance-of-an-azurestorageclient">Get an azure storage queue service object from a specific instance of an Azure::Storage::Client</h1>
<p>queues = client.queue_client</p>

<h1 id="or-setup-the-client-as-a-singleton-2">Or setup the client as a singleton</h1>
<p>Azure::Storage.setup(:storage_account_name =&gt; “your account name”, :storage_access_key =&gt; “your access key”)</p>

<h1 id="create-an-azure-storage-queue-service-object-after-you-set-up-the-credentials">Create an azure storage queue service object after you set up the credentials</h1>
<p>queues = Azure::Storage::Queue::QueueService.new</p>

<h1 id="add-retry-filter-to-the-service-object-2">Add retry filter to the service object</h1>
<p>queues.with_filter(Azure::Storage::Core::Filter::ExponentialRetryPolicyFilter.new)</p>

<h1 id="create-a-queue">Create a queue</h1>
<p>queues.create_queue(“test-queue”)</p>

<h1 id="create-a-message">Create a message</h1>
<p>queues.create_message(“test-queue”, “test message”)</p>

<h1 id="get-one-or-more-messages-with-setting-the-visibility-timeout">Get one or more messages with setting the visibility timeout</h1>
<p>result = queues.list_messages(“test-queue”, 30, { number_of_messages: 10 })</p>

<h1 id="get-one-or-more-messages-without-setting-the-visibility-timeout">Get one or more messages without setting the visibility timeout</h1>
<p>result = queues.peek_messages(“test-queue”, { number_of_messages: 10 })</p>

<h1 id="update-a-message">Update a message</h1>
<p>message = queues.list_messages(“test-queue”, 30)
pop_receipt, time_next_visible = queues.update_message(“test-queue”, message[0].id, message[0].pop_receipt, “updated test message”, 30)</p>

<h1 id="delete-a-message">Delete a message</h1>
<p>message = queues.list_messages(“test-queue”, 30)
queues.delete_message(“test-queue”, message[0].id, message[0].pop_receipt)</p>

<h1 id="delete-a-queue">Delete a queue</h1>
<p>queues.delete_queue(“test-queue”)</p>

<p>```</p>

<h1 id="getting-started-for-contributors">Getting Started for Contributors</h1>

<p>If you would like to become an active contributor to this project please follow the instructions provided in <a href="http://azure.github.io/guidelines/">Azure Projects Contribution Guidelines</a>.
You can find more details for contributing in the <a href="CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>

<h1 id="provide-feedback">Provide Feedback</h1>

<p>If you encounter any bugs with the library please file an issue in the <a href="https://github.com/Azure/azure-storage-ruby/issues">Issues</a> section of the project.</p>

<h1 id="azure-storage-sdks-and-tooling">Azure Storage SDKs and Tooling</h1>

<ul>
  <li><a href="http://github.com/azure/azure-storage-net">Azure Storage Client Library for .Net</a></li>
  <li><a href="http://github.com/azure/azure-storage-java">Azure Storage Client Library for Java</a></li>
  <li><a href="http://github.com/azure/azure-storage-node">Azure Storage Client Library for Node.js</a></li>
  <li><a href="http://github.com/azure/azure-storage-python">Azure Storage Client Library for Python</a></li>
  <li><a href="http://github.com/azure/azure-storage-ruby">Azure Storage Client Library for Ruby</a></li>
  <li><a href="http://github.com/azure/azure-storage-cpp">Azure Storage Client Library for C++</a></li>
  <li><a href="http://github.com/azure/azure-storage-ios">Azure Storage Client Library for iOS</a></li>
  <li><a href="http://github.com/azure/azure-storage-android">Azure Storage Client Library for Android</a></li>
  <li><a href="https://github.com/Azure/azure-storage-net-data-movement">Azure Storage Data Movement Library</a></li>
</ul>

<h1 id="code-of-conduct">Code of Conduct</h1>
<p>This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/">Microsoft Open Source Code of Conduct</a>. For more information see the <a href="https://opensource.microsoft.com/codeofconduct/faq/">Code of Conduct FAQ</a> or contact <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#111;&#112;&#101;&#110;&#099;&#111;&#100;&#101;&#064;&#109;&#105;&#099;&#114;&#111;&#115;&#111;&#102;&#116;&#046;&#099;&#111;&#109;">&#111;&#112;&#101;&#110;&#099;&#111;&#100;&#101;&#064;&#109;&#105;&#099;&#114;&#111;&#115;&#111;&#102;&#116;&#046;&#099;&#111;&#109;</a> with any additional questions or comments.</p>
</div></div>

      <div id="footer">
  Generated on Wed Aug 24 16:16:26 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.2.4).
</div>

    </div>
  </body>
</html>